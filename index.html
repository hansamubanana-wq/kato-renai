<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>æ‹ã®åå·®å€¤ã‚¨ãƒ©ãƒ¼ ã€œåŠ è—¤å…ˆç”Ÿã€è¨ˆç®—ãŒåˆã„ã¾ã›ã‚“ï¼ã€œ</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            -webkit-tap-highlight-color: transparent;
        }

        body {
            font-family: 'Hiragino Sans', 'Hiragino Kaku Gothic ProN', 'Yu Gothic', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 10px;
            overflow-x: hidden;
        }

        #game-container {
            width: 100%;
            max-width: 600px;
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            overflow: hidden;
            position: relative;
        }

        #title-screen {
            padding: 40px 20px;
            text-align: center;
            background: linear-gradient(180deg, #e3f2fd 0%, #bbdefb 100%);
            position: relative;
        }

        #title-screen h1 {
            font-size: 24px;
            color: #1565c0;
            margin-bottom: 10px;
            line-height: 1.4;
        }

        #title-screen h2 {
            font-size: 18px;
            color: #1976d2;
            margin-bottom: 30px;
        }

        #title-screen .concept {
            font-size: 16px;
            color: #424242;
            font-weight: bold;
            margin-bottom: 20px;
            font-style: italic;
        }

        #title-screen .description {
            font-size: 14px;
            color: #616161;
            margin-bottom: 30px;
            line-height: 1.6;
        }

        .start-button {
            background: linear-gradient(135deg, #1976d2, #1565c0);
            color: white;
            border: none;
            padding: 15px 40px;
            font-size: 18px;
            border-radius: 30px;
            cursor: pointer;
            transition: transform 0.2s;
            box-shadow: 0 4px 15px rgba(25, 118, 210, 0.4);
        }

        .start-button:active {
            transform: scale(0.95);
        }

        #game-screen {
            display: none;
        }

        .game-header {
            background: #1976d2;
            color: white;
            padding: 15px;
            text-align: center;
            font-size: 16px;
            font-weight: bold;
        }

        .game-header.horror {
            background: linear-gradient(135deg, #ec407a, #ab47bc);
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.8; }
        }

        #text-window {
            min-height: 250px;
            padding: 30px 20px;
            background: #f5f5f5;
            position: relative;
            overflow: hidden;
        }

        #text-window.normal {
            background: repeating-linear-gradient(
                0deg,
                #e3f2fd,
                #e3f2fd 30px,
                #90caf9 30px,
                #90caf9 31px
            );
        }

        #text-window.horror {
            background: repeating-linear-gradient(
                45deg,
                #fce4ec,
                #fce4ec 30px,
                #f8bbd0 30px,
                #f8bbd0 31px
            );
            animation: shake 0.5s infinite;
        }

        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-2px); }
            75% { transform: translateX(2px); }
        }

        #text-content {
            font-size: 16px;
            line-height: 1.8;
            color: #212121;
            position: relative;
            z-index: 2;
        }

        .character-name {
            font-weight: bold;
            color: #1565c0;
            margin-bottom: 10px;
            display: block;
        }

        .character-name.horror {
            color: #c2185b;
        }

        #math-effects {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 1;
        }

        .math-symbol {
            position: absolute;
            font-size: 24px;
            color: rgba(25, 118, 210, 0.2);
            animation: float 3s infinite;
        }

        @keyframes float {
            0%, 100% { transform: translateY(0) rotate(0deg); }
            50% { transform: translateY(-20px) rotate(180deg); }
        }

        #choices {
            padding: 20px;
            background: white;
        }

        .choice-button {
            width: 100%;
            padding: 15px;
            margin-bottom: 10px;
            background: white;
            border: 2px solid #1976d2;
            border-radius: 10px;
            font-size: 15px;
            color: #1565c0;
            cursor: pointer;
            transition: all 0.3s;
            text-align: left;
            line-height: 1.5;
        }

        .choice-button:hover {
            background: #e3f2fd;
            transform: translateX(5px);
        }

        .choice-button:active {
            transform: scale(0.98);
        }

        .choice-button.horror {
            border-color: #ec407a;
            color: #c2185b;
        }

        .choice-button.horror:hover {
            background: #fce4ec;
        }

        #input-section {
            display: none;
            padding: 20px;
            background: white;
        }

        #input-section input {
            width: 100%;
            padding: 15px;
            font-size: 16px;
            border: 2px solid #ec407a;
            border-radius: 10px;
            margin-bottom: 10px;
        }

        #timer {
            text-align: center;
            font-size: 24px;
            color: #c2185b;
            font-weight: bold;
            margin-bottom: 10px;
        }

        .submit-button {
            width: 100%;
            padding: 15px;
            background: linear-gradient(135deg, #ec407a, #ab47bc);
            color: white;
            border: none;
            border-radius: 10px;
            font-size: 16px;
            cursor: pointer;
        }

        .continue-button {
            width: 100%;
            padding: 15px;
            margin-top: 20px;
            background: linear-gradient(135deg, #1976d2, #1565c0);
            color: white;
            border: none;
            border-radius: 10px;
            font-size: 16px;
            cursor: pointer;
        }

        #ending-screen {
            display: none;
            padding: 40px 20px;
            text-align: center;
            min-height: 400px;
        }

        #ending-screen.normal {
            background: linear-gradient(180deg, #e3f2fd 0%, #90caf9 100%);
        }

        #ending-screen.bad {
            background: linear-gradient(180deg, #fce4ec 0%, #f8bbd0 100%);
        }

        #ending-screen.true {
            background: linear-gradient(180deg, #fff9c4 0%, #fff59d 100%);
        }

        #ending-screen h2 {
            font-size: 24px;
            margin-bottom: 20px;
        }

        #ending-screen p {
            font-size: 16px;
            line-height: 1.8;
            margin-bottom: 30px;
        }

        .restart-button {
            background: linear-gradient(135deg, #1976d2, #1565c0);
            color: white;
            border: none;
            padding: 15px 40px;
            font-size: 16px;
            border-radius: 30px;
            cursor: pointer;
        }

        @media (max-width: 400px) {
            #title-screen h1 {
                font-size: 20px;
            }
            
            #text-content {
                font-size: 14px;
            }
            
            .choice-button {
                font-size: 14px;
            }
        }
    </style>
</head>
<body>
    <div id="game-container">
        <!-- ã‚¿ã‚¤ãƒˆãƒ«ç”»é¢ -->
        <div id="title-screen">
            <h1>æ‹ã®åå·®å€¤ã‚¨ãƒ©ãƒ¼</h1>
            <h2>ã€œåŠ è—¤å…ˆç”Ÿã€è¨ˆç®—ãŒåˆã„ã¾ã›ã‚“ï¼ã€œ</h2>
            <div class="concept">ã€Œæ„›ã¯è«–ç†ï¼ˆãƒ­ã‚¸ãƒƒã‚¯ï¼‰ã§ã¯è§£ã‘ãªã„ã€‚ã€</div>
            <div class="description">
                è«–ç†çš„æ€è€ƒã¨é’ãƒšãƒ³ã‚’æ­¦å™¨ã«ç”Ÿãã‚‹å …ç‰©æ•™å¸«ãƒ»åŠ è—¤ãŒã€<br>
                ã€Œæ‹æ„›ã€ã¨ã„ã†æœ€å¤§ã®éè«–ç†çš„èª²é¡Œã«æŒ‘ã‚€ã€‚
            </div>
            <button class="start-button" onclick="startGame()">ã‚²ãƒ¼ãƒ ã‚¹ã‚¿ãƒ¼ãƒˆ</button>
        </div>

        <!-- ã‚²ãƒ¼ãƒ ç”»é¢ -->
        <div id="game-screen">
            <div id="game-header" class="game-header">Phase 1: å‹˜é•ã„ã®æ±‚æ„›</div>
            
            <div id="text-window" class="normal">
                <div id="math-effects"></div>
                <div id="text-content"></div>
            </div>

            <div id="choices"></div>
            
            <div id="input-section">
                <div id="timer"></div>
                <input type="text" id="excuse-input" placeholder="è«–ç†çš„ãªè¨€ã„è¨³ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„">
                <button class="submit-button" onclick="submitExcuse()">é€ä¿¡</button>
            </div>
        </div>

        <!-- ã‚¨ãƒ³ãƒ‡ã‚£ãƒ³ã‚°ç”»é¢ -->
        <div id="ending-screen"></div>
    </div>

    <script>
        let currentPhase = 0;
        let currentScene = 0;
        let namiAffection = 0;
        let timerInterval;
        let timeLeft = 10;

        const scenarios = {
            phase1: [
                {
                    speaker: "ãƒŠãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³",
                    text: "è·å“¡å®¤ã€‚åŠ è—¤å…ˆç”Ÿã¯éš£ã®å¸­ã«åº§ã‚‹åŒ—äº•ãªã¿å…ˆç”Ÿã‚’è¦³å¯Ÿã—ã¦ã„ãŸã€‚",
                    choices: null
                },
                {
                    speaker: "åŠ è—¤",
                    text: "ï¼ˆæ€è€ƒä¸­ï¼‰ãªã¿å…ˆç”Ÿã¨ã®é©åˆç‡ã¯é«˜ã„ã¯ãšã ã€‚ãªãœãªã‚‰åŒã˜å›½èªç§‘ã§ã€å¸­ãŒè¿‘ã„ã‹ã‚‰ã ã€‚å®Œç’§ãªè«–ç†ã ã€‚",
                    choices: null,
                    effects: true
                },
                {
                    speaker: "ãƒŠãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³",
                    text: "ãã‚“ãªæ™‚ã€ãªã¿å…ˆç”ŸãŒæ›¸é¡ã‚’åºŠã«è½ã¨ã—ã¦ã—ã¾ã£ãŸã€‚",
                    choices: null
                },
                {
                    speaker: "ãªã¿",
                    text: "ã‚...ã™ã¿ã¾ã›ã‚“...",
                    choices: [
                        {
                            text: "Aï¼šãƒŸã‚¹ã®åŸå› ã‚’ãƒãƒ£ãƒ¼ãƒˆå›³ã«ã—ã¦æå‡ºã™ã‚‹",
                            result: -3
                        },
                        {
                            text: "Bï¼šã€Œå›ã®è„³ã®ãƒ¡ãƒ¢ãƒªä¸è¶³ã ã­ã€ã¨æŒ‡æ‘˜ã™ã‚‹",
                            result: -5
                        },
                        {
                            text: "Cï¼šç„¡è¨€ã§è‡ªåˆ†ã®é’ãƒšãƒ³ã‚’è²¸ã™",
                            result: -2
                        }
                    ]
                },
                {
                    speaker: "ãªã¿",
                    text: "ãƒ’ãƒƒ...ï¼ï¼ˆæ€¯ãˆãŸè¡¨æƒ…ï¼‰",
                    choices: null
                },
                {
                    speaker: "å¤§è°·",
                    text: "ãªã¿å…ˆç”Ÿã€å¤§ä¸ˆå¤«ã§ã™ã‹ï¼Ÿåƒ•ãŒæ‹¾ã„ã¾ã™ã‚ˆã€œï¼ˆçˆ½ã‚„ã‹ãªç¬‘é¡”ï¼‰",
                    choices: null
                },
                {
                    speaker: "ãªã¿",
                    text: "ã‚ã€ã‚ã‚ŠãŒã¨ã†ã”ã–ã„ã¾ã™å¤§è°·å…ˆç”Ÿ...ï¼ˆãƒ›ãƒƒã¨ã—ãŸè¡¨æƒ…ï¼‰",
                    choices: null
                },
                {
                    speaker: "åŠ è—¤",
                    text: "ï¼ˆæ€è€ƒä¸­ï¼‰...è¨ˆç®—ãŒåˆã‚ãªã„ã€‚ãªãœã ï¼Ÿ",
                    choices: null,
                    effects: true
                },
                {
                    speaker: "ãƒŠãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³",
                    text: "æ•°æ—¥å¾Œã€æ”¾èª²å¾Œã®æº–å‚™å®¤ã€‚åŠ è—¤å…ˆç”Ÿã¯å†ã³ãªã¿å…ˆç”Ÿã«ã‚¢ãƒ—ãƒ­ãƒ¼ãƒã‚’è©¦ã¿ãŸã€‚",
                    choices: null
                },
                {
                    speaker: "åŠ è—¤",
                    text: "ãªã¿å…ˆç”Ÿã€ãŠè©±ãŒã‚ã‚Šã¾ã™ã€‚",
                    choices: null
                },
                {
                    speaker: "ãªã¿",
                    text: "ã¯ã€ã¯ã„...ï¼ˆç·Šå¼µï¼‰",
                    choices: [
                        {
                            text: "Aï¼šã€Œå›ã¨ã®é©åˆç‡ã«ã¤ã„ã¦ã€ãƒ‡ãƒ¼ã‚¿ã‚’ç”¨æ„ã—ã¾ã—ãŸã€",
                            result: -3
                        },
                        {
                            text: "Bï¼šã€ŒåŠ¹ç‡çš„ãªé–¢ä¿‚æ§‹ç¯‰ã®ææ¡ˆãŒã‚ã‚Šã¾ã™ã€",
                            result: -4
                        },
                        {
                            text: "Cï¼šã€Œ...ä¸€ç·’ã«ã€ãŠèŒ¶ã§ã‚‚ã€ï¼ˆç²¾ä¸€æ¯ã®å„ªã—ã•ï¼‰",
                            result: -2
                        }
                    ]
                },
                {
                    speaker: "ãªã¿",
                    text: "ã”ã€ã”ã‚ã‚“ãªã•ã„ï¼ç§ã€æ€’ã‚‰ã‚Œã‚‹ã®æ€–ã„ã‚“ã§ã™...ï¼ï¼ˆæ³£ããã†ï¼‰",
                    choices: null
                },
                {
                    speaker: "å¤§è°·",
                    text: "ãŠã£ã¨ã€ãªã¿å…ˆç”Ÿã¾ãŸæ€¯ãˆã¦ã¾ã™ã­ã€œã€‚åŠ è—¤ã‚»ãƒ³ãƒ‘ã‚¤ã€ãã®çœ¼åŠ›ã ã¨ç”Ÿå¾’ã‚‚æ€–ãŒã‚Šã¾ã™ã‚ˆï¼Ÿï¼ˆãƒ‹ã‚³ãƒƒï¼‰",
                    choices: null
                },
                {
                    speaker: "åŠ è—¤",
                    text: "...ã€‚",
                    choices: null
                },
                {
                    speaker: "ãƒŠãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³",
                    text: "ãã—ã¦ã€æ”¾èª²å¾Œã®æ¸¡ã‚Šå»Šä¸‹ã€‚åŠ è—¤å…ˆç”Ÿã¯æ±ºæ„ã‚’å›ºã‚ãŸã€‚",
                    choices: null
                },
                {
                    speaker: "åŠ è—¤",
                    text: "ãªã¿å…ˆç”Ÿã€‚åƒ•ã¯...åƒ•ã¯ã‚ãªãŸã®ã“ã¨ãŒ...",
                    choices: null,
                    effects: true
                },
                {
                    speaker: "ãªã¿",
                    text: "ã™ã€ã™ã¿ã¾ã›ã‚“åŠ è—¤å…ˆç”Ÿ...ï¼ç§ã€å¤§è°·å…ˆç”Ÿã®ã“ã¨ãŒ...å¥½ããªã‚“ã§ã™...",
                    choices: null
                },
                {
                    speaker: "åŠ è—¤",
                    text: "...ãã†ã€ã§ã™ã‹ã€‚ï¼ˆé’ãƒšãƒ³ã‚’ãã‚…ã£ã¨æ¡ã‚‹ï¼‰",
                    choices: null
                },
                {
                    speaker: "ãƒŠãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³",
                    text: "Phase 1 çµ‚äº†ã€‚åŠ è—¤å…ˆç”Ÿã®å¿ƒã¯æ·±ãå‚·ã¤ã„ãŸã€‚ãã—ã¦ã€ãã®æ™‚...",
                    choices: null
                }
            ],
            phase2: [
                {
                    speaker: "ãƒŠãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³",
                    text: "ç¿Œæ—¥ã€è·å“¡å®¤ã€‚åŠ è—¤å…ˆç”Ÿã¯ç²¾ç¥çš„ã«å¼±ã£ã¦ã„ãŸã€‚ãã‚“ãªå½¼ã«è¿‘ã¥ãå½±ãŒ...",
                    choices: null
                },
                {
                    speaker: "æ¾æœ¬",
                    text: "ã‚ã‚‰ãã€œã‚“ã€åŠ è—¤ã¡ã‚ƒã‚“â™¡ å…ƒæ°—ãªã„ã‚ã­ã‡ã€œï¼Ÿ",
                    choices: null
                },
                {
                    speaker: "åŠ è—¤",
                    text: "ï¼ˆèƒŒç­‹ãŒå‡ã‚‹ï¼‰ã¾ã€æ¾æœ¬å…ˆç”Ÿ...ï¼",
                    choices: null
                },
                {
                    speaker: "æ¾æœ¬",
                    text: "ç§ãŒæ…°ã‚ã¦ã‚ãƒ»ã’ãƒ»ã‚‹â™¡ ã•ãã€æº–å‚™å®¤ã«æ¥ãªã•ãã„ã€œ",
                    choices: null
                },
                {
                    speaker: "ãƒŠãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³",
                    text: "æ¾æœ¬å…ˆç”Ÿã®å¼·çƒˆãªé¦™æ°´ã®åŒ‚ã„ãŒè¿«ã£ã¦ãã‚‹ï¼é€ƒã’ã‚‹ã‚“ã ã€åŠ è—¤å…ˆç”Ÿï¼",
                    choices: null
                },
                {
                    speaker: "ãƒŠãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³",
                    text: "å»Šä¸‹ã§æ¾æœ¬å…ˆç”Ÿã«è¦‹ã¤ã‹ã£ã¦ã—ã¾ã£ãŸï¼10ç§’ä»¥å†…ã«è«–ç†çš„ãªè¨€ã„è¨³ã‚’å…¥åŠ›ã—ã‚ï¼",
                    choices: null,
                    input: true
                }
            ]
        };

        function startGame() {
            document.getElementById('title-screen').style.display = 'none';
            document.getElementById('game-screen').style.display = 'block';
            currentPhase = 1;
            currentScene = 0;
            namiAffection = 0;
            showScene();
        }

        function showScene() {
            const textWindow = document.getElementById('text-window');
            const textContent = document.getElementById('text-content');
            const choicesDiv = document.getElementById('choices');
            const inputSection = document.getElementById('input-section');
            const mathEffects = document.getElementById('math-effects');

            choicesDiv.innerHTML = '';
            choicesDiv.style.display = 'none';
            inputSection.style.display = 'none';
            mathEffects.innerHTML = '';

            let scene;
            if (currentPhase === 1) {
                scene = scenarios.phase1[currentScene];
            } else if (currentPhase === 2) {
                scene = scenarios.phase2[currentScene];
            }

            if (!scene) {
                if (currentPhase === 1) {
                    startPhase2();
                } else if (currentPhase === 2) {
                    startPhase3();
                }
                return;
            }

            // æ¼”å‡ºå¤‰æ›´
            if (currentPhase === 2) {
                textWindow.classList.remove('normal');
                textWindow.classList.add('horror');
                document.getElementById('game-header').classList.add('horror');
                document.getElementById('game-header').textContent = 'Phase 2: ææ€–ã®é€ƒèµ°åŠ‡';
            }

            // æ•°å¼ã‚¨ãƒ•ã‚§ã‚¯ãƒˆ
            if (scene.effects) {
                const symbols = ['âˆ«', 'âˆ‘', 'âˆš', 'Ï€', 'Î¸', 'âˆ', 'âˆ‚', 'â‰ˆ', 'â‰ ', 'â‰¡'];
                for (let i = 0; i < 5; i++) {
                    const symbol = document.createElement('div');
                    symbol.className = 'math-symbol';
                    symbol.textContent = symbols[Math.floor(Math.random() * symbols.length)];
                    symbol.style.left = Math.random() * 80 + '%';
                    symbol.style.top = Math.random() * 80 + '%';
                    symbol.style.animationDelay = Math.random() * 2 + 's';
                    mathEffects.appendChild(symbol);
                }
            }

            // ãƒ†ã‚­ã‚¹ãƒˆè¡¨ç¤º
            const speakerClass = currentPhase === 2 ? 'horror' : '';
            textContent.innerHTML = `
                <span class="character-name ${speakerClass}">${scene.speaker}</span>
                ${scene.text}
            `;

            // é¸æŠè‚¢è¡¨ç¤º
            if (scene.choices) {
                setTimeout(() => {
                    choicesDiv.style.display = 'block';
                    scene.choices.forEach((choice, index) => {
                        const button = document.createElement('button');
                        button.className = 'choice-button' + (currentPhase === 2 ? ' horror' : '');
                        button.textContent = choice.text;
                        button.onclick = () => makeChoice(index, choice.result);
                        choicesDiv.appendChild(button);
                    });
                }, 500);
            } else if (scene.input) {
                setTimeout(() => {
                    inputSection.style.display = 'block';
                    startTimer();
                }, 500);
            } else {
                // æ¬¡ã¸ãƒœã‚¿ãƒ³
                setTimeout(() => {
                    choicesDiv.style.display = 'block';
                    const button = document.createElement('button');
                    button.className = 'continue-button';
                    button.textContent = 'æ¬¡ã¸';
                    button.onclick = nextScene;
                    choicesDiv.appendChild(button);
                }, 500);
            }
        }

        function makeChoice(index, affectionChange) {
            namiAffection += affectionChange;
            playSound();
            nextScene();
        }

        function nextScene() {
            currentScene++;
            showScene();
        }

        function startPhase2() {
            currentPhase = 2;
            currentScene = 0;
            showScene();
        }

        function startTimer() {
            timeLeft = 10;
            updateTimer();
            timerInterval = setInterval(() => {
                timeLeft--;
                updateTimer();
                if (timeLeft <= 0) {
                    clearInterval(timerInterval);
                    badEnding();
                }
            }, 1000);
        }

        function updateTimer() {
            document.getElementById('timer').textContent = `æ®‹ã‚Šæ™‚é–“: ${timeLeft}ç§’`;
        }

        function submitExcuse() {
            const input = document.getElementById('excuse-input').value.trim();
            clearInterval(timerInterval);
            
            if (input.length > 10) {
                // æˆåŠŸ
                playSound();
                startPhase3();
            } else {
                // å¤±æ•—
                badEnding();
            }
        }

        function startPhase3() {
            document.getElementById('game-screen').style.display = 'none';
            const endingScreen = document.getElementById('ending-screen');
            endingScreen.className = '';
            endingScreen.style.display = 'block';
            
            // Phase 3ã®ã‚·ãƒŠãƒªã‚ª
            endingScreen.innerHTML = `
                <h2>Phase 3: å®‰ã‚‰ãã®æ•°å¼</h2>
                <p>æ¾æœ¬å…ˆç”Ÿã‹ã‚‰é€ƒã’å»¶ã³ã€å¸­ã«æˆ»ã£ãŸåŠ è—¤å…ˆç”Ÿã€‚<br>
                éš£ã®å¸­ã«ã¯ã€ã„ã¤ã‚‚å„ªã—ã„ç•‘å…ˆç”ŸãŒã„ãŸã€‚</p>
                <p><strong>ç•‘å…ˆç”Ÿ:</strong> ã€Œã‚ã‚‰ã‚ã‚‰ã€å¤§å¤‰ã ã£ãŸã‚ã­ã‡ã€‚é£´ã¡ã‚ƒã‚“é£Ÿã¹ã‚‹ï¼Ÿã€</p>
                <p><strong>åŠ è—¤:</strong> ã€Œ...ã‚ã‚ŠãŒã¨ã†ã”ã–ã„ã¾ã™ã€</p>
                <p>ç•‘å…ˆç”Ÿã ã‘ãŒã€åŠ è—¤å…ˆç”Ÿã®è«–ç†ã‚’ç†è§£ã—ã¦ãã‚Œã‚‹ã€‚<br>
                ã“ã®å®‰ã‚‰ãã“ããŒã€çœŸå®Ÿã‹ã‚‚ã—ã‚Œãªã„...</p>
                <div id="final-choices"></div>
            `;

            setTimeout(() => {
                const choicesDiv = document.getElementById('final-choices');
                
                const button1 = document.createElement('button');
                button1.className = 'choice-button';
                button1.textContent = 'ãªã¿å…ˆç”Ÿã¸ã®æœªç·´ã‚’æ¨ã¦ãã‚Œãªã„';
                button1.onclick = normalEnding;
                choicesDiv.appendChild(button1);

                const button2 = document.createElement('button');
                button2.className = 'choice-button';
                button2.textContent = 'ç•‘å…ˆç”Ÿã®å„ªã—ã•ã«ç­”ãˆãŸã„';
                button2.onclick = trueEnding;
                choicesDiv.appendChild(button2);
            }, 1000);
        }

        function normalEnding() {
            const endingScreen = document.getElementById('ending-screen');
            endingScreen.className = 'normal';
            endingScreen.innerHTML = `
                <h2>End Aï¼šè¨ˆç®—é•ã„ã®å­¤ç‹¬</h2>
                <p>åŠ è—¤å…ˆç”Ÿã¯ãªã¿å…ˆç”Ÿã¸ã®æ€ã„ã‚’æ¨ã¦ãã‚Œãªã‹ã£ãŸã€‚</p>
                <p>ç¿Œæ—¥ã€æ¸¡ã‚Šå»Šä¸‹ã§å¤§è°·å…ˆç”Ÿã¨ä¸¦ã‚“ã§æ­©ããªã¿å…ˆç”Ÿã‚’é ãã‹ã‚‰è¦‹ã¤ã‚ã‚‹ã€‚</p>
                <p><strong>åŠ è—¤:</strong> ã€Œåƒ•ã®è¨ˆç®—å¼ã®ã©ã“ãŒé–“é•ã£ã¦ã„ãŸã‚“ã ...ã€</p>
                <p>é’ãƒšãƒ³ã‚’æ¡ã‚Šã—ã‚ã€åŠ è—¤å…ˆç”Ÿã¯é€šå¸¸æ¥­å‹™ã«æˆ»ã£ãŸã€‚</p>
                <button class="restart-button" onclick="location.reload()">ã‚¿ã‚¤ãƒˆãƒ«ã«æˆ»ã‚‹</button>
            `;
        }

        function badEnding() {
            clearInterval(timerInterval);
            document.getElementById('game-screen').style.display = 'none';
            const endingScreen = document.getElementById('ending-screen');
            endingScreen.className = 'bad';
            endingScreen.style.display = 'block';
            endingScreen.innerHTML = `
                <h2>End Bï¼šæ•é£Ÿ</h2>
                <p>æ¾æœ¬å…ˆç”Ÿã®ç½ ã«ã‹ã‹ã£ã¦ã—ã¾ã£ãŸï¼</p>
                <p style="font-size: 48px; color: #c2185b;">ğŸ’‹</p>
                <p><strong>æ¾æœ¬:</strong> ã€ŒåŠ è—¤ã¡ã‚ƒã‚“ã¯ã€ç§ãŒè‚²ã¦ã¦ã‚ãƒ»ã’ãƒ»ã‚‹â™¡ã€</p>
                <p>åŠ è—¤å…ˆç”Ÿã¯è‹±èªæº–å‚™å®¤ã«é€£ã‚Œè¾¼ã¾ã‚Œã€ãã“ã‹ã‚‰å‡ºã¦ãã‚‹ã“ã¨ã¯ãªã‹ã£ãŸ...</p>
                <button class="restart-button" onclick="location.reload()">ã‚¿ã‚¤ãƒˆãƒ«ã«æˆ»ã‚‹</button>
            `;
        }

        function trueEnding() {
            const endingScreen = document.getElementById('ending-screen');
            endingScreen.className = 'true';
            endingScreen.innerHTML = `
                <h2>End Cï¼šè¨¼æ˜å®Œäº†</h2>
                <p>å¤•æš®ã‚Œã®è·å“¡å®¤ã€‚åŠ è—¤å…ˆç”Ÿã¯é’ãƒšãƒ³ã‚’ç½®ãã€ç•‘å…ˆç”Ÿã‹ã‚‰è²°ã£ãŸé»’ç³–é£´ã‚’èˆã‚ã‚‹ã€‚</p>
                <p><strong>åŠ è—¤:</strong> ã€Œéè«–ç†çš„ã ã¨æ€ã£ã¦ã„ãŸãŒ...æ‚ªããªã„ã€</p>
                <p><strong>ç•‘:</strong> ã€Œã‚ã‚‰ã‚ã‚‰ã€ãã†ã§ã—ã‚‡ã†ï¼Ÿäººç”Ÿã€è¨ˆç®—é€šã‚Šã«ã¯ã„ã‹ãªã„ã‚‚ã®ã‚ˆã€</p>
                <p>äºŒäººã¯å®šå¹´ã¾ã§ä»²è‰¯ãéš£ã®å¸­ã§åƒãç¶šã‘ãŸã€‚</p>
                <p style="font-size: 32px;">ğŸŒŸ TRUE END ğŸŒŸ</p>
                <button class="restart-button" onclick="location.reload()">ã‚¿ã‚¤ãƒˆãƒ«ã«æˆ»ã‚‹</button>
            `;
        }

        function playSound() {
            // ã‚¯ãƒªãƒƒã‚¯éŸ³ã®ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ï¼ˆå®Ÿéš›ã®éŸ³å£°ãƒ•ã‚¡ã‚¤ãƒ«ãªã—ï¼‰
            console.log('ã‚«ãƒãƒƒï¼ˆãƒœãƒ¼ãƒ«ãƒšãƒ³ã®ãƒãƒƒã‚¯éŸ³ï¼‰');
        }
    </script>
</body>
</html>